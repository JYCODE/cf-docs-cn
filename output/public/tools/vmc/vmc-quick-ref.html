<!DOCTYPE html>
<!--[if IE]>  <![endif]-->
<!--[if lt IE 7 ]> <html lang="en" dir="ltr" class="no-js old_ie ie6"> <![endif]-->
<!--[if IE 7 ]> <html lang="en" dir="ltr" class="no-js old_ie ie7"> <![endif]-->
<!--[if IE 8 ]> <html lang="en" dir="ltr" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]> <html lang="en" dir="ltr" class="no-js ie9"> <![endif]-->
<html lang='en' xmlns:og='http://ogp.me/ns#'>
<head>
<meta charset='utf-8'>
<meta content='IE=edge,chrome=1' http-equiv='X-UA-Compatible'>
<meta content='VMware' name='author'>
<meta content='Copyright VMware 2011. All Rights Reserved.' name='copyright'>
<meta content='juhk3p2B-UhzEjLXtqFwDMVLo5Lmy4ZP-zVe7Gxo2Dw' name='google-site-verification'>
<meta content='en-us' http-equiv='Content-Language'>
<meta content='false' http-equiv='imagetoolbar'>
<meta content='true' name='MSSmartTagsPreventParsing'>
<meta content='all' name='robots'>
<meta content='147862838623179' property='fb:app_id'>
<meta content='website' property='og:type'>
<meta content='https://docs.cloudfoundry.com/tools/vmc/vmc-quick-ref.html' property='og:url'>
<meta content='https://docs.cloudfoundry.com/images/cf100.png' property='og:image'>
<meta content='Cloud Foundry | VMC 快速参考' property='og:title'>
<meta content='所有可用的 vmc 命令' property='og:description'>
<meta content='en_US' property='og:locale'>
<title>Cloud Foundry | VMC 快速参考</title>
<link href='/stylesheets/print.css' media='print' rel='stylesheet' type='text/css'>
<link href='/stylesheets/master.css' media='screen' rel='stylesheet' type='text/css'>
<link href='favicon.ico' rel='shortcut icon'>
<link href='/stylesheets/uv_active4d.css' rel='stylesheet' type='text/css'>
<link href='/stylesheets/documentation.css' media='screen' rel='stylesheet' type='text/css'>
<link href='/stylesheets/pygments.css' media='screen' rel='stylesheet' type='text/css'>
<script src='/js/jquery-1.6.4.min.js' type='text/javascript'></script>
<script src='/js/documentation.js' type='text/javascript'></script>
<script src='/js/jquery.easing.js' type='text/javascript'></script>
<script src='/js/jquery.social.share.1.2.min.js' type='text/javascript'></script>
<!--[if lt IE 9 ]> <link href="/stylesheets/ie.css" media="screen" rel="stylesheet" type="text/css" /> <![endif]-->
<!--[if lt IE 8 ]> <link href="/stylesheets/ie7.css" media="screen" rel="stylesheet" type="text/css" /> <![endif]-->
<link href='/stylesheets/master-cf.css' media='screen' rel='stylesheet' type='text/css'>
</head>
<body class='api'>
<div class='wrapper'>
<div class='container' id='header'>
<div class='site-wrap'>
<div class='container'>
<div class='span-6 logo-wrap'>
<!-- %a{:href => url(@config, :www_app)} -->
<a href='http://www.cloudfoundry.cn'>
<img alt="Cloud Foundry: The Industry's First Open Platform As A Service" height='70' src='/images/logo_header_cloudfoundry.png' width='373'>
<span class='replaced'>Cloud Foundry: The Industry's First Open Platform As A Service</span>
</img>
</a>
</div>
<div class='span-9 last'>
<div class='right'>
<form action='http://www.cloudfoundry.com/search' class='search-form' method='get' onsubmit='return submitQuery()'>
<input autocomplete='off' class='search-input' name='q' placeholder='search' type='text' value=''>
</form>
<ul class='super-nav'>
<li>
<a href='http://my.cloudfoundry.com/signup'>注册</a>
</li>
<li>
<a href='http://my.cloudfoundry.com/micro'>下载</a>
</li>
<li>
<a href='http://support.cloudfoundry.com' rel='external' target='_blank'>支持</a>
</li>
<li>
<a href='http://status.cloudfoundry.com' target='_blank'>状态</a>
</li>
<li>
<a href='http://http://www.cloudfoundry.com' target='_blank'>英文站点</a>
</li>
</ul>
</div>
<div id='nav'>
<ul>
<li class='selected'>
<a href='http://cndocs.cloudfoundry.com'>技术文档</a>
</li>
<li>
<!-- %a{:href => "#{url(@config, :www_app)}/getinvolved"} 如何参与 -->
<a href='http://cn.cloudfoundry.com/getinvolved'>如何参与</a>
</li>
<li>
<!-- %a{:href => "#{url(@config, :www_app)}/partners"} 合作伙伴 -->
<a href='http://cn.cloudfoundry.com/partners'>合作伙伴</a>
</li>
<li>
<!-- %a{:href => url(@config, :blog_app)} 中文博客 -->
<a href='http://cnblog.cloudfoundry.com/'>中文博客</a>
</li>
<li>
<!-- %a{:href => "#{url(@config, :www_app)}/about"} 关于我们 -->
<a href='http://cn.cloudfoundry.com/about'>关于我们</a>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class='container' id='main'>
<div class='content-wrap'>
<div class='header-wrap clearfix'>
<div class='site-wrap'>
<h1>Tools</h1>
<p class='sub-head'>VMC 快速参考</p>
</div>
</div>
<div class='site-wrap'>
<div class='container content'>
<div class='span-15 prepend-top'>
<div class='span-4'>
<div class='sub-nav'>
<p>
<strong>
<a href='/getting-started.html'>Cloud Foundry入门</a>
</strong>
迅速开始使用Cloud Foundry的入门文档.
</p>
<form action='http://www.cloudfoundry.com/search' class='search-form-docs' method='get' onsubmit='return submitQuery()'>
<input autocomplete='off' class='search-input-docs' name='q' placeholder='search docs' type='text' value='more:docs'>
</form>
<br>
<br>
<div class='sidebar-shell' id='js-sidebar'>
<div class='js-accordion-list sidebar-module'>
<ul>
<li class='js-topic'>
<h3>
<a href='#'>语言和编程框架</a>
</h3>
<ul class='js-guides'>
<li class='js-subtopic'>
<a href='/frameworks.html'>概述</a>
</li>
<li class='js-subtopic'>
<a href='/frameworks/java/spring/spring.html'>Spring</a>
<ul class='js-subguides'>
<li>
<a href='/frameworks/java/spring/spring-insight.html'>Spring Insight</a>
</li>
</ul>
</li>
<li class='js-subtopic'>
<a href='/frameworks/java/spring/grails.html'>Grails</a>
</li>
<li class='js-subtopic'>
<a href='/frameworks/scala/scala.html'>Scala</a>
<ul class='js-subguides'>
<li>
<a href='/frameworks/scala/lift.html'>Lift</a>
</li>
</ul>
</li>
<li class='js-subtopic'>
<a href='/frameworks/play/play.html'>Play</a>
<ul class='js-subguides'>
<li>
<a href='/frameworks/play/java-getting-started.html'>Java入门指南</a>
</li>
<li>
<a href='/frameworks/play/scala-getting-started.html'>Scala入门指南</a>
</li>
<li>
<a href='/frameworks/play/java-mysql.html'>在Java应用中使用MySQL</a>
</li>
<li>
<a href='/frameworks/play/java-postgresql.html'>在Java应用中使用PostgreSQL</a>
</li>
<li>
<a href='/frameworks/play/java-mongodb.html'>在Java应用中使用MongoDB</a>
</li>
</ul>
</li>
<li class='js-subtopic'>
<a href='/frameworks/nodejs/nodejs.html'>Node.js</a>
<ul class='js-subguides'>
<li>
<a href='/frameworks/nodejs/nodeAutoReconfig.html'>有关自动配置</a>
</li>
</ul>
</li>
<li class='js-subtopic'>
<a href='/frameworks/ruby/ruby-rails-sinatra.html'>Ruby, Rails, Sinatra</a>
<ul class='js-subguides'>
<li>
<a href='/frameworks/ruby/ruby.html'>概述</a>
</li>
<li>
<a href='/frameworks/ruby/ruby-cf.html'>相关事宜</a>
</li>
<li>
<a href='/frameworks/ruby/installing-ruby.html'>安装 Ruby</a>
</li>
<li>
<a href='/frameworks/ruby/ruby-simple.html'>创建应用</a>
</li>
<li>
<a href='/frameworks/ruby/rails-3-0.html'>Rails 3.0</a>
</li>
<li>
<a href='/frameworks/ruby/rails-3-1.html'>Rails 3.1</a>
</li>
<li>
<a href='/frameworks/ruby/sinatra.html'>Sinatra</a>
</li>
</ul>
</li>
</ul>
</li>
<li class='js-topic'>
<h3>
<a href='#'>基础架构</a>
</h3>
<ul class='js-guides'>
<li class='js-subtopic'>
<a href='/infrastructure/overview.html'>Overview</a>
</li>
<li class='js-subtopic'>
<a href='/infrastructure/micro/mcf.html'>MCF</a>
<ul class='js-subguides'>
<li>
<a href='/infrastructure/micro/installing-mcf.html'>安装 MCF</a>
</li>
<li>
<a href='/infrastructure/micro/using-mcf.html'>使用 MCF</a>
</li>
</ul>
</li>
</ul>
</li>
<li class='js-topic'>
<h3>
<a href='#'>服务</a>
</h3>
<ul class='js-guides'>
<li class='js-subtopic'>
<a href='/services.html'>概述</a>
</li>
<li class='js-subtopic'>
<a href='/services/mongodb/mongodb.html'>MongoDB</a>
<ul class='js-subguides'>
<li>
<a href='/services/mongodb/grails-mongodb.html'>Grails</a>
</li>
<li>
<a href='/services/mongodb/nodejs-mongodb.html'>Node.js</a>
</li>
<li>
<a href='/services/mongodb/ruby-mongodb.html'>Ruby</a>
</li>
<li>
<a href='/services/mongodb/ruby-mongodb-gridfs.html'>GridFS</a>
</li>
</ul>
</li>
<li class='js-subtopic'>
<a href='/services/mysql/mysql-overview.html'>MySQL</a>
<ul class='js-subguides'>
<li>
<a href='/services/mysql/mysql.html'>介绍</a>
</li>
<li>
<a href='/services/mysql/grails-mysql.html'>Grails</a>
</li>
<li>
<a href='/services/mysql/ruby-mysql.html'>Ruby</a>
</li>
</ul>
</li>
<li class='js-subtopic'>
<a href='/services/rabbitmq/rabbitmq.html'>RabbitMQ</a>
<ul class='js-subguides'>
<li>
<a href='/services/rabbitmq/faq-rabbitmq.html'>常见问题</a>
</li>
<li>
<a href='/services/rabbitmq/nodejs-rabbitmq.html'>Node.js</a>
</li>
<li>
<a href='/services/rabbitmq/ruby-rabbitmq.html'>Ruby</a>
</li>
<li>
<a href='/services/rabbitmq/spring-rabbitmq.html'>Spring</a>
</li>
</ul>
</li>
<li class='js-subtopic'>
<a href='/services/redis/redis.html'>Redis</a>
<ul class='js-subguides'>
<li>
<a href='/services/redis/ruby-redis.html'>Ruby</a>
</li>
</ul>
</li>
<li class='js-subtopic'>
<a href='/services/postgres/postgres.html'>vFabric Postgres</a>
<ul class='js-subguides'>
<li>
<a href='/services/postgres/postgres-ruby.html'>Ruby</a>
</li>
</ul>
</li>
</ul>
</li>
<li class='js-topic'>
<h3>
<a href='#'>工具</a>
</h3>
<ul class='js-guides'>
<li class='js-subtopic'>
<a href='/tools/vmc/vmc.html'>VMC</a>
<ul class='js-subguides'>
<li>
<a href='/tools/vmc/installing-vmc.html'>安装</a>
</li>
<li>
<a href='/tools/vmc/debugging.html'>应用调试</a>
</li>
<li>
<a href='/tools/vmc/vmc-quick-ref.html'>快速参考</a>
</li>
<li>
<a href='/tools/vmc/vmc-non-interactive.html'>非交互模式</a>
</li>
<li>
<a href='/tools/vmc/caldecott.html'>Caldecott隧道</a>
</li>
</ul>
</li>
<li class='js-subtopic'>
<a href='/tools/STS/sts-eclipse.html'>STS & Eclipse</a>
<ul class='js-subguides'>
<li>
<a href='/tools/STS/configuring-STS.html'>配置</a>
</li>
<li>
<a href='/tools/STS/debugging-CF-Eclipse.html'>应用调试</a>
</li>
<li>
<a href='/tools/STS/deploying-CF-Eclipse.html'>应用部署</a>
</li>
<li>
<a href='/tools/STS/remote-CF-Eclipse.html'>远程访问</a>
</li>
</ul>
</li>
<li class='js-subtopic'>
<a href='/tools/spring-insight.html'>Spring Insight</a>
</li>
<li class='js-subtopic'>
<a href='/tools/gallery/box.html'>Box 集成</a>
</li>
<li class='js-subtopic'>
<a href='/tools/deploying-apps.html'>部署应用</a>
</li>
</ul>
</li>
<li class='js-topic'>
<h3>
<a href='#'>部署云平台</a>
</h3>
<ul class='js-guides'>
<li class='js-subtopic'>
<a href='/deploy/overview.html'>概述</a>
</li>
<li class='js-subtopic'>
<a href='/deploy/dev_setup.html'>dev_setup</a>
<ul class='js-subguides'>
<li>
<a href='/deploy/dev_setup-Single-Node.html'>单节点dev_setup</a>
</li>
<li>
<a href='/deploy/dev_setup-Multi-Node.html'>多节点dev_setup</a>
</li>
</ul>
</li>
<li class='js-subtopic'>
<a href='/deploy/bosh.html'>什么是BOSH</a>
<ul class='js-subguides'>
<li>
<a href='/deploy/bosh-docs.html'>BOSH文档</a>
</li>
</ul>
</li>
<li class='js-subtopic'>
<a href='/deploy/vSphere.html'>在vSphere上部署</a>
<ul class='js-subguides'>
<li>
<a href='/deploy/vSphere-IaaS.html'>准备IaaS环境</a>
</li>
<li>
<a href='/deploy/vSphere-BOSH.html'>安装BOSH</a>
</li>
<li>
<a href='/deploy/vSphere-CF.html'>部署Cloud Foundry</a>
</li>
<li>
<a href='/deploy/vSphere-CF-mgmt.html'>管理和运维Cloud Foundry</a>
</li>
</ul>
</li>
<li class='js-subtopic'>
<a href='/deploy/OpenStack.html'>在OpenStack上部署</a>
<ul class='js-subguides'>
<li>
<a href='/deploy/os-install.html'>OpenStack Essex安装及配置</a>
</li>
<li>
<a href='/deploy/os-prepare.html'>准备BOSH CLI虚拟机</a>
</li>
<li>
<a href='/deploy/os-micro-bosh.html'>部署Micro BOSH</a>
</li>
<li>
<a href='/deploy/os-bosh.html'>部署BOSH</a>
</li>
<li>
<a href='/deploy/os-cf.html'>部署Cloud Foundry</a>
</li>
</ul>
</li>
<li class='js-subtopic'>
<a href='/deploy/customize.html'>定制Cloud Foundry</a>
<ul class='js-subguides'>
<li>
<a href='/deploy/customize-framework.html'>添加框架</a>
</li>
<li>
<a href='/deploy/customize-runtime.html'>添加运行时</a>
</li>
<li>
<a href='/deploy/customize-services.html'>添加系统服务</a>
</li>
<li>
<a href='/deploy/customize-php.html'>支持PHP语言</a>
</li>
<li>
<a href='/deploy/customize-python.html'>支持Python语言</a>
</li>
</ul>
</li>
</ul>
</li>
<li class='js-topic'>
<h3>
<a href='#'>例子</a>
</h3>
<ul class='js-guides'>
<li class='js-subtopic'>
<a href='/samples/cool-apps.html'>酷炫应用程序</a>
</li>
<li class='js-subtopic'>
<a href='/samples/samples.html'>精彩代码分析</a>
</li>
</ul>
</li>
</ul>
</div>
</div>
<p>
<strong>
<a href='/faq.html'>FAQ</a>
</strong>
常见问题.
</p>
<p>
<strong>
<a href='http://stackoverflow.com/questions/tagged/cloudfoundry' target='_blank'>Forums</a>
</strong>
加入讨论.
</p>
<p>
<strong>
<a href='http://webinars.cloudfoundry.com'>Webinars</a>
</strong>
学习更多.
</p>
</div>
</div>
<div class='span-11 last'>
<h2>所有可用的 vmc 命令</h2>
<p class='tags'>
<strong>Tags:</strong>
<span>
<a href="/tags/vmc" rel="tag">vmc</a><a href="/tags/CLI" rel="tag">CLI</a>
</span>
</p>
<p class='timestamp'>
<strong>Last Updated:</strong>
<span>
2012-09-28
</span>
</p>
<div id='social-share'></div>
<p>本节将主要的 VMC 命令分为多个功能类别并提供了一般用法。在示例中，显示为 <code>&lt;this&gt;</code> 之类的文本表示值特定于您的环境的变量。</p>

<p>运行 <code>vmc help</code> 查看 VMC 命令及其参数与简要说明的完整列表。</p>

<h2 id="section">副标题</h2>

<ul>
<li><a href="#getting-the-latest-version-of-vmc">获取最新版 VMC</a></li>
  <li><a href="#suppressing-prompts-to-run-in-non-interactive-mode">隐藏提示以在非交互模式下运行</a></li>
  <li><a href="#targeting-cloud-foundry">以 Cloud Foundry 为目标</a></li>
  <li><a href="#logging-in-and-managing-accounts">登录并管理帐户</a></li>
  <li><a href="#deploying-applications">部署应用程序</a></li>
  <li><a href="#updating-a-deployment">更新部署</a></li>
  <li><a href="#managing-the-deployment-lifecycle-start-stop-delete">管理部署生命周期（启动、停止、删除）</a></li>
  <li><a href="#managing-and-binding-services">管理和绑定服务</a></li>
  <li><a href="#getting-information-about-the-cloud-foundry-target">获取有关 Cloud Foundry 目标的信息</a></li>
  <li><a href="#getting-information-about-applications">获取有关应用程序的信息</a></li>
</ul><h2 id="vmc">获取最新版 VMC</h2>

<p><code>vmc</code> 作为 Ruby gem 提供，并不断以新命令或新选项对现有命令进行更新。因此，请通过执行下列 RubyGems 命令确保您拥有最新版本：</p>

<pre class="terminal">
prompt$ gem update vmc
</pre>

<h2 id="section-1">隐藏提示以在非交互模式下运行</h2>

<p>默认情况下，<code>vmc</code> 以交互式模式操作，执行多个命令会导致针对特定选项的值出现多次提示。若要在非交互模式下使用 <code>vmc</code> 并在命令中提供选项，请使用下列语法：</p>

<pre class="terminal">
prompt$ vmc *command* -n --options
</pre>

<p>例如，若要部署应用程序并针对所有提示采用默认值：</p>

<pre class="terminal">
prompt$ vmc push &lt;appname&gt; -n
</pre>

<p>若要显示可用作命令行参数的所有命令和选项：</p>

<pre class="terminal">
prompt$ vmc help options
</pre>

<h2 id="cloud-foundry-">以 Cloud Foundry 为目标</h2>

<p>在云中以 Cloud Foundry 为目标：</p>

<pre class="terminal">
prompt$ vmc target api.cloudfoundry.com
</pre>

<p>以您的本地虚拟机上运行的独立 Micro Cloud Foundry 为目标：</p>

<pre class="terminal">
prompt$ vmc target api.&lt;domain&gt;.cloudfoundry.com
</pre>

<p><strong>注意</strong>：在您最初安装 Micro Cloud Foundry 时，指定<em>domain</em> 的值。</p>

<p>显示当前的目标 URL：</p>

<pre class="terminal">
prompt$ vmc target
</pre>

<p>显示已知目标和相关授权令牌的列表：</p>

<pre class="terminal">
prompt$ vmc targets
</pre>

<h2 id="section-2">登录并管理帐户</h2>

<p>利用您的帐户信息向 Cloud Foundry 标识您的身份：</p>

<pre class="terminal">
prompt$ vmc login &lt;youremail@email.com&gt; --passwd &lt;yourpassword&gt;
</pre>

<p>更改密码：</p>

<pre class="terminal">
prompt$ vmc passwd
</pre>

<p>从您当前的会话中注销：</p>

<pre class="terminal">
prompt$ vmc logout
</pre>

<p>获取有关 Cloud Foundry 帐户的信息、您所用 VMC 的版本以及您消耗的资源总数：</p>

<pre class="terminal">
prompt$ vmc info
</pre>

<p>（仅限 Micro Cloud Foundry）注册新用户。需要管理员权限：</p>

<pre class="terminal">
prompt$ vmc add-user --email &lt;newemail@email.com&gt; --passwd &lt;newpasswd&gt;
</pre>

<p>（仅限 Micro Cloud Foundry） 删除注册用户以及与该用户相关的所有应用程序和服务实例。需要管理员权限：</p>

<pre class="terminal">
prompt$ vmc delete-user &lt;useremail@email.com&gt;
</pre>

<h2 id="section-3">部署应用程序</h2>

<p>通过从包含应用程序项目（如 <code>myapp.war</code> 或 <code>myapp.rb</code>）的目录中执行命令来部署该应用程序。这是交互式的应用程序部署方式，而 VMC 命令会提示您以下信息：如应用程序名称、其部署 URL、其编程框架、内存分配以及与其绑定的服务实例。然后该命令会将应用程序部署至您当前会话与之关联的目标，将其暂存，然后启动该应用程序以使其立即可用。</p>

<pre class="terminal">
prompt$ vmc push
</pre>

<p>您可以指定下列一个或全部选项以传递部署值，如果您不指定选项，<code>vmc push</code> 将以交互方式提示您指定该选项：</p>

<pre class="terminal">
prompt$ vmc push &lt;appname&gt; --path &lt;directory&gt; --url &lt;deploymentURL&gt; --instances &lt;instance-number&gt;  --mem &lt;MB&gt; --no-start
</pre>

<p>其中：</p>

<ul>
<li>
<em>appname</em> 指您要为应用程序指定的内部名称。</li>
  <li>
<em>directory</em> 指包含应用程序的绝对或相对本机目录名称。注意，目录中的<em>所有</em> 文件都将由 <code>vmc push</code> 命令推送，因此请确保只包含要在目录中部署的文件。</li>
  <li>
<em>deploymentURL</em> 指稍后要在浏览器中用于调用应用程序的 URL；默认值为 <code>&lt;appname&gt;.cloudfoundry.com</code>
</li>
  <li>
<em>instance-number</em> 指定要启动的应用程序的实例数；默认值为 1</li>
  <li>
<em>MB</em> 指定应用程序的内存上限，单位为 MB；默认值为 512 MB</li>
  <li>
<em>–no-start</em> 指定您尚未打算让 Cloud Foundry 实际启动应用程序，默认情况下将执行该操作。</li>
</ul><p>即使您指定以上所有选项，<code>vmc push</code> 命令仍将提示您提供运行时和相关服务实例。</p>

<p>例如：</p>

<pre class="terminal">
prompt$ vmc push hello --path /usr/bob/sample-apps/hello --url hello-bob.cloudfoundry.com --instances 2 --mem 64 --no-start
</pre>

<h2 id="section-4">更新部署</h2>

<p>以当前目录中的应用程序位更新已部署的应用程序：</p>

<pre class="terminal">
prompt$ vmc update &lt;appname&gt;
</pre>

<p><strong>注意</strong>：确保指定应用程序的<em>名称</em> （<code>vmc apps</code> 输出的第一列）而非其部署 URL。</p>

<p>上述命令会立即结束任何连接到已部署应用程序的现有用户会话。</p>

<p>更新已为现有部署保存的内存（单位为 MB）；该应用程序将自动重新启动：</p>

<pre class="terminal">
prompt$ vmc mem &lt;appname&gt; &lt;MB&gt;
</pre>

<p><strong>注意</strong>：使用 <code>vmc stats &lt;appname&gt;</code> 查看当前为该应用程序保留的内存以及该应用程序当前使用的内存量。</p>

<p>将新部署 URL 注册为现有已部署的应用程序；此命令将该 URL <em>添加至</em> 已注册 URL 的现有列表中：</p>

<pre class="terminal">
prompt$ vmc map &lt;appname&gt; &lt;URL&gt;
</pre>

<p><strong>注意</strong>：使用 <code>vmc apps</code> 查看当前注册的已部署应用程序的 URL 列表。</p>

<p>取消注册已部署应用程序的 URL：</p>

<pre class="terminal">
prompt$ vmc unmap &lt;appname&gt; &lt;URL&gt;
</pre>

<p>通过更改当前部署的实例数调整应用程序的规模（扩大或缩小）：</p>

<pre class="terminal">
prompt$ vmc instances &lt;appname&gt; &lt;number-of-instances&gt;
</pre>

<p><strong>注意</strong>：使用 <code>vmc apps</code> 查看已部署应用程序的最新实例数。</p>

<h2 id="section-5">管理部署生命周期（启动、停止、删除）</h2>

<p>停止当前正在运行的部署：</p>

<pre class="terminal">
prompt$ vmc stop &lt;appname&gt;
</pre>

<p><strong>注意</strong>：确保指定应用程序的<em>名称</em> （<code>vmc apps</code> 输出的第一列）而非其部署 URL。</p>

<p>启动当前停止的部署：</p>

<pre class="terminal">
prompt$ vmc start &lt;appname&gt;
</pre>

<p>重新启动当前正在运行的部署：</p>

<pre class="terminal">
prompt$ vmc restart &lt;appname&gt;
</pre>

<p>删除应用程序：</p>

<pre class="terminal">
prompt$ vmc delete &lt;appname&gt;
</pre>

<p>重新命名应用程序：</p>

<pre class="terminal">
prompt$ vmc rename &lt;appname&gt; &lt;new-appname&gt;
</pre>

<h2 id="section-6">管理和绑定服务</h2>

<p>显示支持的服务类型及已经配置的服务的实例：</p>

<pre class="terminal">
prompt$ vmc services
</pre>

<p><strong>注意</strong>：上述命令的输出分为两个表：第一个表显示可用于应用程序的服务类型，第二个表显示已为其创建实例的服务（使用 <code>vmc create-service</code> 命令。）这些服务称为<em>已配置的服务</em>. 使用 <code>vmc apps</code> 命令确定这些服务实例中的哪些实例当前绑定至已部署的应用程序。</p>

<p>创建服务类型的新实例并为其分配一个名称：</p>

<pre class="terminal">
prompt$ vmc create-service &lt;service-type&gt; &lt;service-instance-name&gt;
</pre>

<p><strong>注意</strong>：使用 <code>vmc services</code> 查看可为其创建实例的可用服务类型的列表。使用第一个表的第一列中列出的服务类型的名称。</p>

<p>创建服务类型的新实例，为其分配一个名称并立即将其绑定至已部署的应用程序：</p>

<pre class="terminal">
prompt$ vmc create-service &lt;service-type&gt; &lt;service-instance-name&gt; &lt;appnam&gt;
</pre>

<p>将服务实例绑定至已部署的应用程序。假设您已使用 <code>vmc push</code> 部署了该应用程序：</p>

<pre class="terminal">
prompt$ vmc bind-service &lt;service-instance-name&gt; &lt;appname&gt;
</pre>

<p><strong>注意</strong>：使用 <code>vmc services</code> 查看服务实例的名称（第二个表的第一列）。</p>

<p>移除服务实例与应用程序之间的绑定：</p>

<pre class="terminal">
prompt$ vmc unbind-service &lt;service-instance-name&gt; &lt;appname&gt;
</pre>

<p>删除服务的实例：</p>

<pre class="terminal">
prompt$ vmc delete-service &lt;service-instance-name&gt;
</pre>

<p>要在使用 <code>vmc push</code> 部署应用程序的同时绑定现有服务实例，请在两个提示符处输入 <code>y</code>，然后从提供的列表中指定服务实例的数目。例如（仅显示 <code>vmc push</code> 命令的相关输出和提示）：</p>

<pre class="terminal">
prompt$ vmc push
        ...
        Would you like to bind any services to 'pizza-juliet'? [yN]: y
        Would you like to use an existing provisioned service [yN]? y
        The following provisioned services are available:
        1. Insight-19ff7b1
        2. mysql-juliet
        Please select one you wish to provision: 2
        Binding Service: OK
        Uploading Application:
        ...
        Starting Application: OK

</pre>

<p>要在部署应用程序时创建新的服务实例，然后将新的服务实例绑定至应用程序，请指定与新服务实例有关的相应提示和信息。例如（仅显示 <code>vmc push</code> 的相关输出和提示）：</p>

<pre class="terminal">
prompt$ vmc push
        ...
        Would you like to bind any services to 'pizza-juliet'? [yN]: y
        Would you like to use an existing provisioned service [yN]? n
        The following system services are available:
        1. mongodb
        2. mysql
        3. postgresql
        4. rabbitmq
        5. redis
        Please select one you wish to provision: 2
        Specify the name of the service [mysql-ab63]: mysql-new
        Creating Service: OK
        Binding Service: OK
        Uploading Application:
        ...
        Starting Application: OK

</pre>

<h2 id="cloud-foundry--1">获取有关 Cloud Foundry 目标的信息</h2>

<p>显示支持的编程语言：</p>

<pre class="terminal">
prompt$ vmc runtimes
</pre>

<p>显示支持的编程框架：</p>

<pre class="terminal">
prompt$ vmc frameworks
</pre>

<p>显示支持的服务类型（如 MySQL 和 RabbitMQ）及您所创建的这些服务类型的实例：</p>

<pre class="terminal">
prompt$ vmc services
</pre>

<p><strong>注意</strong>：上述命令的输出分为两个表：第一个表显示可用于应用程序的服务类型，第二个表显示已为其创建实例的服务（使用 <code>vmc create-service</code> 命令。）使用 <code>vmc apps</code> 命令确定这些服务实例中的哪些实例当前绑定至已部署的应用程序。</p>

<h2 id="section-7">获取有关应用程序的信息</h2>

<p>显示当前针对您的帐户部署的应用程序的列表，其中包含实例、运行状态及相关服务实例：</p>

<pre class="terminal">
prompt$ vmc apps
</pre>

<p>显示应用程序的标准输出日志条目：</p>

<pre class="terminal">
prompt$ vmc logs &lt;appname&gt;
</pre>

<p><strong>注意</strong>：确保指定应用程序的<em>名称</em> （<code>vmc apps</code> 输出的第一列）而非其部署 URL。</p>

<p>显示特定应用程序最近的崩溃情况：</p>

<pre class="terminal">
prompt$ vmc crashes &lt;appname&gt;
</pre>

<p>显示应用程序发生的严重错误：</p>

<pre class="terminal">
prompt$ vmc crashlogs &lt;appname&gt;
</pre>

<p>显示已部署应用程序的每个实例的资源信息（如内核使用率、内存、磁盘空间和运行时间）：</p>

<pre class="terminal">
prompt$ vmc stats &lt;appname&gt;
</pre>

<p>列出应用程序的环境变量：</p>

<pre class="terminal">
prompt$ vmc env &lt;appname&gt;
</pre>

<p>将环境变量添加至应用程序：</p>

<pre class="terminal">
prompt$ vmc env-add &lt;appname&gt; &lt;variable=value&gt;
</pre>

<p>删除以前添加至应用程序的环境变量：</p>

<pre class="terminal">
prompt$ vmc env-del &lt;appname&gt; &lt;variable&gt;
</pre>

<h2 id="section-8">在不影响用户通信的情况下更新应用程序</h2>

<p>通常，利用 Cloud Foundry 开发和测试应用程序时，<strong>vmc update</strong> 很符合要求。</p>

<p>然而，如果应用程序是要“提供实时支持”的，就像我们自己的 www 站点，应遵循以下步骤，以确保更新转换期间不终止用户请求。</p>

<p>新应用程序将继用原应用程序的 URL 空间，我们采用这样的概念。</p>

<p>下面是不会出现任何停机状况的应用程序更新方法：</p>

<p>注意：“vmc update”将会中断通信。</p>

<ul>
<li>vmc push [app]NEW（绑定任何共享服务，如数据库、缓存等）</li>
</ul><p>测试 [app]NEW.cloudfoundry.com</p>

<ul>
<li>vmc map [app]NEW [app].cloudfoundry.com</li>
</ul><p>测试 [app].cloudfoundry.com 若干次，现在在新旧应用程序之间循环…</p>

<ul>
<li>vmc unmap [app]OLD [app].cloudfoundry.com # 不会中断通信，只是切断所有新的通信</li>
</ul><p>测试</p>

<ul>
<li>vmc delete [app]OLD</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class='container' id='footer'>
<div class='site-wrap'>
<div class='row'>
<div class='span-3 social-icons'>
<a class='twitter replaced' href='http://e.weibo.com/2169336083/profile' rel='external' target='_blank'>Weibo</a>
<a class='facebook replaced' href='http://cloudfoundry.csdn.net' rel='external' target='_blank'>CSDN</a>
<a class='youtube replaced' href='http://i.youku.com/u/id_UNDI5MTA2Mjk2' rel='external' target='_blank'>YouKu</a>
</div>
<div class='prepend-2 span-5'>
<p>
<!-- %a{:href => "#{url(@config, :www_app)}/faq"} 问题 -->
<a href='http://cndocs.cloudfoundry.com/faq.html'>问题</a>
|
<a href='http://forum.csdn.net/slist/cloudfoundry' rel='external'>论坛</a>
|
<!-- %a{:href => url(@config, :blog_app), :rel => "external"} 博客 -->
<a href='http://cnblog.cloudfoundry.com/' rel='external'>博客</a>
|
<a href='http://www.cloudfoundry.com/jobs'>工作</a>
|
<a href='http://www.cloudfoundry.com/legal'>法律</a>
|
<a href='http://www.cloudfoundry.com/terms'>条款</a>
|
<a href='http://www.vmware.com/help/privacy.html' rel='external' target='_blank'>隐私</a>
</p>
</div>
<div class='span-5 last right'>
<p>Copyright &copy; 2013 VMware, Inc. All rights reserved.</p>
</div>
</div>
</div>
</div>
<script>
  //<![CDATA[
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-22181585-14']);
    _gaq.push(['_trackPageview']);
    
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    /$(document).ready(function() {
     / $('#social-share').dcSocialShare({
      /  buttonSize: 'horizontal',
      / buttons: 'facebook,twitter,plusone,linkedin',
      /  location: 'top',
      /  align: 'right',
      /  offsetLocation: 260,
      /  offsetAlign: 100,
      /  width: 80,
      /  center: true,
      /  centerPx: 600,
      /  disableFloat: true,
      /  tabText: '',
      /  twitterId: 'cloudfoundry'
      /});
    /});
  //]]>
</script>
</body>
</html>
