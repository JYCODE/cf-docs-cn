<!DOCTYPE html>
<!--[if IE]>  <![endif]-->
<!--[if lt IE 7 ]> <html lang="en" dir="ltr" class="no-js old_ie ie6"> <![endif]-->
<!--[if IE 7 ]> <html lang="en" dir="ltr" class="no-js old_ie ie7"> <![endif]-->
<!--[if IE 8 ]> <html lang="en" dir="ltr" class="no-js ie8"> <![endif]-->
<!--[if IE 9 ]> <html lang="en" dir="ltr" class="no-js ie9"> <![endif]-->
<html lang='en' xmlns:og='http://ogp.me/ns#'>
<head>
<meta charset='utf-8'>
<meta content='IE=edge,chrome=1' http-equiv='X-UA-Compatible'>
<meta content='VMware' name='author'>
<meta content='Copyright VMware 2011. All Rights Reserved.' name='copyright'>
<meta content='juhk3p2B-UhzEjLXtqFwDMVLo5Lmy4ZP-zVe7Gxo2Dw' name='google-site-verification'>
<meta content='en-us' http-equiv='Content-Language'>
<meta content='false' http-equiv='imagetoolbar'>
<meta content='true' name='MSSmartTagsPreventParsing'>
<meta content='all' name='robots'>
<meta content='147862838623179' property='fb:app_id'>
<meta content='website' property='og:type'>
<meta content='https://docs.cloudfoundry.com/tools/vmc/installing-vmc.html' property='og:url'>
<meta content='https://docs.cloudfoundry.com/images/cf100.png' property='og:image'>
<meta content='Cloud Foundry | VMC 安装' property='og:title'>
<meta content='安装命令行界面 (vmc)' property='og:description'>
<meta content='en_US' property='og:locale'>
<title>Cloud Foundry | VMC 安装</title>
<link href='/stylesheets/print.css' media='print' rel='stylesheet' type='text/css'>
<link href='/stylesheets/master.css' media='screen' rel='stylesheet' type='text/css'>
<link href='favicon.ico' rel='shortcut icon'>
<link href='/stylesheets/uv_active4d.css' rel='stylesheet' type='text/css'>
<link href='/stylesheets/documentation.css' media='screen' rel='stylesheet' type='text/css'>
<link href='/stylesheets/pygments.css' media='screen' rel='stylesheet' type='text/css'>
<script src='/js/jquery-1.6.4.min.js' type='text/javascript'></script>
<script src='/js/documentation.js' type='text/javascript'></script>
<script src='/js/jquery.easing.js' type='text/javascript'></script>
<script src='/js/jquery.social.share.1.2.min.js' type='text/javascript'></script>
<!--[if lt IE 9 ]> <link href="/stylesheets/ie.css" media="screen" rel="stylesheet" type="text/css" /> <![endif]-->
<!--[if lt IE 8 ]> <link href="/stylesheets/ie7.css" media="screen" rel="stylesheet" type="text/css" /> <![endif]-->
<link href='/stylesheets/master-cf.css' media='screen' rel='stylesheet' type='text/css'>
</head>
<body class='api'>
<div class='wrapper'>
<div class='container' id='header'>
<div class='site-wrap'>
<div class='container'>
<div class='span-6 logo-wrap'>
<!-- %a{:href => url(@config, :www_app)} -->
<a href='http://www.cloudfoundry.cn'>
<img alt="Cloud Foundry: The Industry's First Open Platform As A Service" height='70' src='/images/logo_header_cloudfoundry.png' width='373'>
<span class='replaced'>Cloud Foundry: The Industry's First Open Platform As A Service</span>
</img>
</a>
</div>
<div class='span-9 last'>
<div class='right'>
<form action='http://www.cloudfoundry.com/search' class='search-form' method='get' onsubmit='return submitQuery()'>
<input autocomplete='off' class='search-input' name='q' placeholder='search' type='text' value=''>
</form>
<ul class='super-nav'>
<li>
<a href='http://my.cloudfoundry.com/signup'>注册</a>
</li>
<li>
<a href='http://my.cloudfoundry.com/micro'>下载</a>
</li>
<li>
<a href='http://support.cloudfoundry.com' rel='external' target='_blank'>支持</a>
</li>
<li>
<a href='http://status.cloudfoundry.com' target='_blank'>状态</a>
</li>
<li>
<a href='http://http://www.cloudfoundry.com' target='_blank'>英文站点</a>
</li>
</ul>
</div>
<div id='nav'>
<ul>
<li class='selected'>
<a href='http://cndocs.cloudfoundry.com'>技术文档</a>
</li>
<li>
<!-- %a{:href => "#{url(@config, :www_app)}/getinvolved"} 如何参与 -->
<a href='http://cn.cloudfoundry.com/getinvolved'>如何参与</a>
</li>
<li>
<!-- %a{:href => "#{url(@config, :www_app)}/partners"} 合作伙伴 -->
<a href='http://cn.cloudfoundry.com/partners'>合作伙伴</a>
</li>
<li>
<!-- %a{:href => url(@config, :blog_app)} 中文博客 -->
<a href='http://cnblog.cloudfoundry.com/'>中文博客</a>
</li>
<li>
<!-- %a{:href => "#{url(@config, :www_app)}/about"} 关于我们 -->
<a href='http://cn.cloudfoundry.com/about'>关于我们</a>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class='container' id='main'>
<div class='content-wrap'>
<div class='header-wrap clearfix'>
<div class='site-wrap'>
<h1>Tools</h1>
<p class='sub-head'>VMC 安装</p>
</div>
</div>
<div class='site-wrap'>
<div class='container content'>
<div class='span-15 prepend-top'>
<div class='span-4'>
<div class='sub-nav'>
<p>
<strong>
<a href='/getting-started.html'>Cloud Foundry入门</a>
</strong>
迅速开始使用Cloud Foundry的入门文档.
</p>
<form action='http://www.cloudfoundry.com/search' class='search-form-docs' method='get' onsubmit='return submitQuery()'>
<input autocomplete='off' class='search-input-docs' name='q' placeholder='search docs' type='text' value='more:docs'>
</form>
<br>
<br>
<div class='sidebar-shell' id='js-sidebar'>
<div class='js-accordion-list sidebar-module'>
<ul>
<li class='js-topic'>
<h3>
<a href='#'>语言和编程框架</a>
</h3>
<ul class='js-guides'>
<li class='js-subtopic'>
<a href='/frameworks.html'>概述</a>
</li>
<li class='js-subtopic'>
<a href='/frameworks/java/spring/spring.html'>Spring</a>
<ul class='js-subguides'>
<li>
<a href='/frameworks/java/spring/spring-insight.html'>Spring Insight</a>
</li>
</ul>
</li>
<li class='js-subtopic'>
<a href='/frameworks/java/spring/grails.html'>Grails</a>
</li>
<li class='js-subtopic'>
<a href='/frameworks/scala/scala.html'>Scala</a>
<ul class='js-subguides'>
<li>
<a href='/frameworks/scala/lift.html'>Lift</a>
</li>
</ul>
</li>
<li class='js-subtopic'>
<a href='/frameworks/play/play.html'>Play</a>
<ul class='js-subguides'>
<li>
<a href='/frameworks/play/java-getting-started.html'>Java入门指南</a>
</li>
<li>
<a href='/frameworks/play/scala-getting-started.html'>Scala入门指南</a>
</li>
<li>
<a href='/frameworks/play/java-mysql.html'>在Java应用中使用MySQL</a>
</li>
<li>
<a href='/frameworks/play/java-postgresql.html'>在Java应用中使用PostgreSQL</a>
</li>
<li>
<a href='/frameworks/play/java-mongodb.html'>在Java应用中使用MongoDB</a>
</li>
</ul>
</li>
<li class='js-subtopic'>
<a href='/frameworks/nodejs/nodejs.html'>Node.js</a>
<ul class='js-subguides'>
<li>
<a href='/frameworks/nodejs/nodeAutoReconfig.html'>有关自动配置</a>
</li>
</ul>
</li>
<li class='js-subtopic'>
<a href='/frameworks/ruby/ruby-rails-sinatra.html'>Ruby, Rails, Sinatra</a>
<ul class='js-subguides'>
<li>
<a href='/frameworks/ruby/ruby.html'>概述</a>
</li>
<li>
<a href='/frameworks/ruby/ruby-cf.html'>相关事宜</a>
</li>
<li>
<a href='/frameworks/ruby/installing-ruby.html'>安装 Ruby</a>
</li>
<li>
<a href='/frameworks/ruby/ruby-simple.html'>创建应用</a>
</li>
<li>
<a href='/frameworks/ruby/rails-3-0.html'>Rails 3.0</a>
</li>
<li>
<a href='/frameworks/ruby/rails-3-1.html'>Rails 3.1</a>
</li>
<li>
<a href='/frameworks/ruby/sinatra.html'>Sinatra</a>
</li>
</ul>
</li>
</ul>
</li>
<li class='js-topic'>
<h3>
<a href='#'>基础架构</a>
</h3>
<ul class='js-guides'>
<li class='js-subtopic'>
<a href='/infrastructure/overview.html'>Overview</a>
</li>
<li class='js-subtopic'>
<a href='/infrastructure/micro/mcf.html'>MCF</a>
<ul class='js-subguides'>
<li>
<a href='/infrastructure/micro/installing-mcf.html'>安装 MCF</a>
</li>
<li>
<a href='/infrastructure/micro/using-mcf.html'>使用 MCF</a>
</li>
</ul>
</li>
</ul>
</li>
<li class='js-topic'>
<h3>
<a href='#'>服务</a>
</h3>
<ul class='js-guides'>
<li class='js-subtopic'>
<a href='/services.html'>概述</a>
</li>
<li class='js-subtopic'>
<a href='/services/mongodb/mongodb.html'>MongoDB</a>
<ul class='js-subguides'>
<li>
<a href='/services/mongodb/grails-mongodb.html'>Grails</a>
</li>
<li>
<a href='/services/mongodb/nodejs-mongodb.html'>Node.js</a>
</li>
<li>
<a href='/services/mongodb/ruby-mongodb.html'>Ruby</a>
</li>
<li>
<a href='/services/mongodb/ruby-mongodb-gridfs.html'>GridFS</a>
</li>
</ul>
</li>
<li class='js-subtopic'>
<a href='/services/mysql/mysql-overview.html'>MySQL</a>
<ul class='js-subguides'>
<li>
<a href='/services/mysql/mysql.html'>介绍</a>
</li>
<li>
<a href='/services/mysql/grails-mysql.html'>Grails</a>
</li>
<li>
<a href='/services/mysql/ruby-mysql.html'>Ruby</a>
</li>
</ul>
</li>
<li class='js-subtopic'>
<a href='/services/rabbitmq/rabbitmq.html'>RabbitMQ</a>
<ul class='js-subguides'>
<li>
<a href='/services/rabbitmq/faq-rabbitmq.html'>常见问题</a>
</li>
<li>
<a href='/services/rabbitmq/nodejs-rabbitmq.html'>Node.js</a>
</li>
<li>
<a href='/services/rabbitmq/ruby-rabbitmq.html'>Ruby</a>
</li>
<li>
<a href='/services/rabbitmq/spring-rabbitmq.html'>Spring</a>
</li>
</ul>
</li>
<li class='js-subtopic'>
<a href='/services/redis/redis.html'>Redis</a>
<ul class='js-subguides'>
<li>
<a href='/services/redis/ruby-redis.html'>Ruby</a>
</li>
</ul>
</li>
<li class='js-subtopic'>
<a href='/services/postgres/postgres.html'>vFabric Postgres</a>
<ul class='js-subguides'>
<li>
<a href='/services/postgres/postgres-ruby.html'>Ruby</a>
</li>
</ul>
</li>
</ul>
</li>
<li class='js-topic'>
<h3>
<a href='#'>工具</a>
</h3>
<ul class='js-guides'>
<li class='js-subtopic'>
<a href='/tools/vmc/vmc.html'>VMC</a>
<ul class='js-subguides'>
<li>
<a href='/tools/vmc/installing-vmc.html'>安装</a>
</li>
<li>
<a href='/tools/vmc/debugging.html'>应用调试</a>
</li>
<li>
<a href='/tools/vmc/vmc-quick-ref.html'>快速参考</a>
</li>
<li>
<a href='/tools/vmc/vmc-non-interactive.html'>非交互模式</a>
</li>
<li>
<a href='/tools/vmc/caldecott.html'>Caldecott隧道</a>
</li>
</ul>
</li>
<li class='js-subtopic'>
<a href='/tools/STS/sts-eclipse.html'>STS & Eclipse</a>
<ul class='js-subguides'>
<li>
<a href='/tools/STS/configuring-STS.html'>配置</a>
</li>
<li>
<a href='/tools/STS/debugging-CF-Eclipse.html'>应用调试</a>
</li>
<li>
<a href='/tools/STS/deploying-CF-Eclipse.html'>应用部署</a>
</li>
<li>
<a href='/tools/STS/remote-CF-Eclipse.html'>远程访问</a>
</li>
</ul>
</li>
<li class='js-subtopic'>
<a href='/tools/spring-insight.html'>Spring Insight</a>
</li>
<li class='js-subtopic'>
<a href='/tools/gallery/box.html'>Box 集成</a>
</li>
<li class='js-subtopic'>
<a href='/tools/deploying-apps.html'>部署应用</a>
</li>
</ul>
</li>
<li class='js-topic'>
<h3>
<a href='#'>部署云平台</a>
</h3>
<ul class='js-guides'>
<li class='js-subtopic'>
<a href='/deploy/overview.html'>概述</a>
</li>
<li class='js-subtopic'>
<a href='/deploy/dev_setup.html'>dev_setup</a>
<ul class='js-subguides'>
<li>
<a href='/deploy/dev_setup-Single-Node.html'>单节点dev_setup</a>
</li>
<li>
<a href='/deploy/dev_setup-Multi-Node.html'>多节点dev_setup</a>
</li>
</ul>
</li>
<li class='js-subtopic'>
<a href='/deploy/bosh.html'>什么是BOSH</a>
<ul class='js-subguides'>
<li>
<a href='/deploy/bosh-docs.html'>BOSH文档</a>
</li>
</ul>
</li>
<li class='js-subtopic'>
<a href='/deploy/vSphere.html'>在vSphere上部署</a>
<ul class='js-subguides'>
<li>
<a href='/deploy/vSphere-IaaS.html'>准备IaaS环境</a>
</li>
<li>
<a href='/deploy/vSphere-BOSH.html'>安装BOSH</a>
</li>
<li>
<a href='/deploy/vSphere-CF.html'>部署Cloud Foundry</a>
</li>
<li>
<a href='/deploy/vSphere-CF-mgmt.html'>管理和运维Cloud Foundry</a>
</li>
</ul>
</li>
<li class='js-subtopic'>
<a href='/deploy/OpenStack.html'>在OpenStack上部署</a>
<ul class='js-subguides'>
<li>
<a href='/deploy/os-install.html'>OpenStack Essex安装及配置</a>
</li>
<li>
<a href='/deploy/os-prepare.html'>准备BOSH CLI虚拟机</a>
</li>
<li>
<a href='/deploy/os-micro-bosh.html'>部署Micro BOSH</a>
</li>
<li>
<a href='/deploy/os-bosh.html'>部署BOSH</a>
</li>
<li>
<a href='/deploy/os-cf.html'>部署Cloud Foundry</a>
</li>
</ul>
</li>
<li class='js-subtopic'>
<a href='/deploy/customize.html'>定制Cloud Foundry</a>
<ul class='js-subguides'>
<li>
<a href='/deploy/customize-framework.html'>添加框架</a>
</li>
<li>
<a href='/deploy/customize-runtime.html'>添加运行时</a>
</li>
<li>
<a href='/deploy/customize-services.html'>添加系统服务</a>
</li>
<li>
<a href='/deploy/customize-php.html'>支持PHP语言</a>
</li>
<li>
<a href='/deploy/customize-python.html'>支持Python语言</a>
</li>
</ul>
</li>
</ul>
</li>
<li class='js-topic'>
<h3>
<a href='#'>例子</a>
</h3>
<ul class='js-guides'>
<li class='js-subtopic'>
<a href='/samples/cool-apps.html'>酷炫应用程序</a>
</li>
<li class='js-subtopic'>
<a href='/samples/samples.html'>精彩代码分析</a>
</li>
</ul>
</li>
</ul>
</div>
</div>
<p>
<strong>
<a href='/faq.html'>FAQ</a>
</strong>
常见问题.
</p>
<p>
<strong>
<a href='http://stackoverflow.com/questions/tagged/cloudfoundry' target='_blank'>Forums</a>
</strong>
加入讨论.
</p>
<p>
<strong>
<a href='http://webinars.cloudfoundry.com'>Webinars</a>
</strong>
学习更多.
</p>
</div>
</div>
<div class='span-11 last'>
<h2>安装命令行界面 (vmc)</h2>
<p class='tags'>
<strong>Tags:</strong>
<span>
<a href="/tags/vmc" rel="tag">vmc</a><a href="/tags/安装" rel="tag">安装</a><a href="/tags/CLI" rel="tag">CLI</a>
</span>
</p>
<p class='timestamp'>
<strong>Last Updated:</strong>
<span>
2012-10-26
</span>
</p>
<div id='social-share'></div>
<p>您在 Unix 终端或 Windows 命令提示符中使用 Cloud Foundry 命令行界面（称为 <code>vmc</code>）可执行所有 Cloud Foundry 操作，如配置应用程序并将其部署至 Cloud Foundry。</p>

<p>无论您是将应用程序部署至 PaaS Cloud Foundry (<code>cloudfoundry.com</code>)，还是部署至您的本地版本 Cloud Foundry (Micro Cloud Foundry)，您执行 <code>vmc</code> 命令的方式都是一样的。基本命令都是相同的；唯一的区别在于您使用 Cloud Foundry 凭据登录之前，首先应指定一个不同的目标。</p>

<p>本节描述了安装 <code>vmc</code> 的前提条件、安装说明以及如何部署简单的应用程序。</p>

<p><strong>副标题</strong></p>

<ul>
<li>
    <p><a href="#prerequisite-installing-ruby-and-rubygems">前提条件：安装 Ruby 和 RubyGems</a></p>
  </li>
  <li>
    <p><a href="#installing-vmc-procedure">安装 vmc：过程</a></p>
  </li>
  <li>
    <p><a href="#verifying-the-installation-by-deploying-a-sample-application">通过部署简单的应用程序验证安装</a></p>
  </li>
  <li>
    <p><a href="#next-steps">接下来的步骤</a></p>
  </li>
</ul><h2 id="ruby--rubygems">前提条件：安装 Ruby 和 RubyGems</h2>

<p><code>vmc</code> 作为 Ruby gem 提供，这意味着如果您在要运行 <code>vmc</code> 的计算机上尚未安装 Ruby 和 RubyGems（一个 Ruby 包管理器），就必须先安装后才能运行该程序。</p>

<p>目前支持下列版本的 Ruby：</p>

<ul>
<li>1.8.7</li>
  <li>1.9.2</li>
</ul><p>如果您已安装了 Ruby 和 RubyGems，则可以跳过 <a href="#installing-vmc-main-steps">安装 vmc：主要步骤</a>。</p>

<p>以下各节提供了有关在 Windows 及各种 Linux 计算机上安装 Ruby 和 RubyGems 的基本信息：</p>

<ul>
<li>
    <p><a href="/frameworks/ruby/installing-ruby.html#windows">Windows</a></p>
  </li>
  <li>
    <p><a href="/frameworks/ruby/installing-ruby.html#mac-os-x">Mac OS X</a></p>
  </li>
  <li>
    <p><a href="/frameworks/ruby/installing-ruby.html#ubuntu">Ubuntu</a></p>
  </li>
  <li>
    <p><a href="/frameworks/ruby/installing-ruby.html#redhatfedora">Redhat/Fedora</a></p>
  </li>
  <li>
    <p><a href="/frameworks/ruby/installing-ruby.html#centos">Centos</a></p>
  </li>
  <li>
    <p><a href="/frameworks/ruby/installing-ruby.html#suse">SuSE</a></p>
  </li>
  <li>
    <p><a href="/frameworks/ruby/installing-ruby.html#debian">Debian</a></p>
  </li>
</ul><h2 id="vmc">安装 vmc：过程</h2>

<p>一旦在计算机上安装了 <a href="#prerequisite-installing-ruby-and-rubygems">Ruby 和 RubyGems</a>，安装 <code>vmc</code> 便非常简单。</p>

<ul>
<li>
    <p>如果您尚未这么做，请注册免费的 <a href="http://cloudfoundry.com/">Cloud Foundry</a> 帐户。您将收到一封包含用户凭据的电子邮件。</p>
  </li>
  <li>
    <p>打开终端 (Linux) 并执行以下命令：</p>
  </li>
</ul><pre class="terminal">
prompt$ sudo gem install vmc
</pre>

<p>有关 <code>sudo</code> 命令的任何必要的身份验证凭据，请咨询您的系统管理员。</p>

<p>在 Windows 上打开一个启用 Ruby 的命令提示符窗口，然后执行下列命令：</p>

<pre class="terminal">
prompt&gt; gem install vmc
</pre>

<ul>
<li>
    <p>执行 <code>vmc target</code> 命令指定要将应用程序部署到的 Cloud Foundry 目标：</p>

    <ul>
<li>
        <p>若要部署在 PaaS Cloud Foundry 上，请指定 <code>api.cloudfoundry.com</code></p>
      </li>
      <li>
        <p>若要部署在本地 Micro Cloud Foundry 上，请指定 <code>api.&lt;appname&gt;.cloudfoundry.me</code>，其中<em>appname</em> 为您在 Micro Cloud Foundry 网站上注册应用程序的域。请参阅<a href="/infrastructure/micro/installing-mcf.html">安装 Micro Cloud Foundry</a>。</p>
      </li>
    </ul>
</li>
</ul><p>以下命令以 PaaS Cloud Foundry 为目标：</p>

<pre class="terminal">
prompt$ vmc target api.cloudfoundry.com
</pre>

<p>要确定您当前的目标，请执行不带任何参数的 <code>vmc target</code> 命令：</p>

<pre class="terminal">
prompt$ vmc target
</pre>

<ul>
<li>在 Cloud Foundry 注册后，请使用您通过电子邮件收到的用户凭据登录。您的用户名通常是您的电子邮件地址。</li>
</ul><pre class="terminal">
prompt$ vmc login
</pre>

<ul>
<li>通过检索有关您帐户的信息确保您已成功登录：</li>
</ul><pre class="terminal">
prompt$ vmc info
</pre>

<ul>
<li>更改密码：</li>
</ul><pre class="terminal">
prompt$ vmc passwd
</pre>

<ul>
<li>查看 VMC 命令及其参数与简要说明的完整列表，方法是执行 <code>vmc help</code> 命令：</li>
</ul><pre class="terminal">
prompt$ vmc help
</pre>

<p>现在，您已成功安装 <code>vmc</code> 并运行了几个基本命令。</p>

<h2 id="section">通过部署简单的应用程序验证安装</h2>

<p>现在，您已安装 VMC 并登录您的目标，您可以开始将应用程序部署至云。</p>

<p>本节显示了如何部署不需要任何服务（如 MySQL 或 RabbitMQ）的简单的应用程序。本节的目的是为了使您通过部署和运行非常基本的应用程序来快速了解 VMC 和 Cloud Foundry。后续各节描述了如何将应用程序配置为使用连接至数据库或管理消息传递的服务。</p>

<ul>
<li>创建一个不需要任何服务的简单应用程序并将其相应打包，如将 Spring 应用程序打包至 <code>*.war</code> 文件中。</li>
</ul><p>如果您当前没有应用程序，请参阅<a href="#creating-a-simple-sinatra-application">创建一个简单的 Sinatra 应用程序</a>，以了解有关如何使用 Sinatra 在几分钟内创建基本的 Ruby Hello World 应用程序的说明。</p>

<ul>
<li>打开一个终端窗口 (Linux) 或命令提示符窗口 (Windows)，然后更改包含应用程序的目录。</li>
</ul><p>例如，如果使用 Sinatra 创建简单的 Ruby <a href="#creating-a-simple-sinatra-application">Hello World</a> 应用程序：</p>

<pre class="terminal">
prompt$ cd /usr/bob/sample-apps/hello
</pre>

<ul>
<li>使用 <code>vmc push</code> 命令部署应用程序，该命令将以交互方式提示部署信息：</li>
</ul><pre class="terminal">
prompt$ vmc push
</pre>

<p>对需要回答 yes 或 no 的提示，默认值使用大写字母显示。例如，如果 “yes” 为默认值，您会看到 <code>[Yn]</code>。</p>

<p>下列示例输出还显示了您应提供的响应；为易于分辨，以显式方式指定默认值。请参阅示例后面有关这些提示的更多说明：</p>

<pre class="terminal">
   Would you like to deploy from the current directory? [Yn] Yes
   Application Name: hello
   Application Deployed URL: 'hello.cloudfoundry.com'?  hello-bob.cloudfoundry.com
   Detected a Sinatra Application, is this correct? [Yn]  Yes
   Memory Reservation [Default:128M]  (64M, 128M, 256M, 512M or 1G) (Press Enter to take default)
   Would you like to bind any services to 'hello'? [yN]: No

</pre>

<p>执行完提示后，<code>vmc</code> 会提供下列输出表示成功推送（部署）：</p>

<pre class="terminal">
     Uploading Application:
       Checking for available resources: OK
       Packing application: OK
     Uploading (0K): OK
     Push Status: OK
     Staging Application: OK
     Starting Application: OK

</pre>

<p>Application Name 指应用程序的内部名称及要部署的实际文件不含文件扩展名的名称，在本示例中为 <code>hello</code>。Application Deployed URL 为应用程序在 Cloud Foundry 中部署成功并启动后您在浏览器中用于运行该应用程序的 URL。确定您指定了一个唯一的部署 URL，否则 <code>vmc</code> 将返回一条错误消息：“the URI has already been taken or reserved.”（该 URL 已被使用或保留）。在以上示例中，该 URL 为 <code>hello-bob.cloudfoundry.com</code>。</p>

<p>通过执行 <code>vmc apps</code> 命令验证您的应用程序是否可用：</p>

<pre class="terminal">
$ vmc apps

    +--------------+----+--------+-------------------------------+----------+
    | Application  | #  | Health | URLS                          | Services |
    +--------------+----+--------+-------------------------------+----------+
    | hello        | 1  | RUNNING| hello-bob.cloudfoundry.com    |          |
    +--------------+----+--------+-------------------------------+----------+

</pre>

<p>通过转至您为 <code>vmc push</code> 命令提供的 URL，在浏览器中运行您的应用程序，在以上示例中该 URL 为 <code>hello-bob.cloudfoundry.com</code>。</p>

<p>例如，如果您部署了 Hello World Sinatra 应用程序，在您的浏览器中应会看到以下文字：<code>Hello from Cloud Foundry</code>。</p>

<p><img src="/images/screenshots/installing-vmc/hello-bob-app.png" alt="hello-bob-app.png"></p>

<h2 id="section-1">更新部署</h2>

<p>现在，您已部署第一个应用程序，如果要对该应用程序进行更改，则更新很简单，如下列过程中所述。</p>

<p>以某种方式更改您的应用程序，这样，当您运行该应用程序时，将会知道其版本是多少。</p>

<p>例如，在 <code>hello.rb</code> 中所含简单的 Hello World Sinatra 应用程序中，将文本 <code>Hello from Cloud Foundry</code> 更改为 <code>Hello from Cloud Foundry and VMware</code>。</p>

<p>在命令提示符或终端处，确保您仍位于包含应用程序文件的目录中（在本示例中为 <code>/usr/bob/sample-apps/hello.rb</code>），然后执行 <code>vmc update</code> 命令，指定应用程序的名称（在本示例中为 <code>hello</code>）：</p>

<pre class="terminal">
$ vmc update hello

    Uploading Application:
          Checking for available resources: OK
          Packing application: OK
          Uploading (0K): OK
    Push Status: OK
    Stopping Application: OK
    Staging Application: OK
    Starting Application: OK

</pre>

<p>在您的浏览器中，刷新应用程序您就会看到所做的更改：</p>

<p><img src="/images/screenshots/installing-vmc/hello-bob-app-updated.png" alt="hello-bob-app-updated.png"></p>

<h2 id="sinatra-">创建简单的 Sinatra 应用程序</h2>

<p>如果您尚未在您的计算机上下载并安装 <a href="http://www.sinatrarb.com/">Sinatra Web framework</a>，请执行此操作。</p>

<p>创建新应用程序将位于其中的目录。例如：</p>

<pre class="terminal">
prompt$ mkdir /usr/bob/sample-apps/hello
</pre>

<p>使用您最喜欢的文本编辑器，通过下列内容在此新目录中创建一个称为 <code>hello.rb</code> 的文件：</p>

<pre><code class="language-ruby"><span class="nb">require</span> <span class="s1">'sinatra'</span>
<span class="n">get</span> <span class="s1">'/'</span> <span class="k">do</span>
  <span class="s2">"Hello from Cloud Foundry"</span>
<span class="k">end</span></code></pre>

<p><img src="/images/screenshots/installing-vmc/vmc_hello.jpg" alt="hello.rb" title="hello app"></p>

<h2 id="section-2">接下来的步骤</h2>

<ul>
<li>
    <p><a href="/infrastructure/micro/installing-mcf.html">安装 Micro Cloud Foundry</a></p>
  </li>
  <li>
    <p><a href="/tools/deploying-apps.html">部署和管理应用程序</a></p>
  </li>
  <li>
    <p><a href="/frameworks.html">配置应用程序以使用 Cloud Foundry</a></p>
  </li>
  <li>
    <p><a href="/tools/vmc/vmc-quick-ref.html">VMC 快速参考指南</a></p>
  </li>
  <li>
    <p><a href="/tools/vmc/debugging.html">调试</a></p>
  </li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div>
</div>
<div class='container' id='footer'>
<div class='site-wrap'>
<div class='row'>
<div class='span-3 social-icons'>
<a class='twitter replaced' href='http://e.weibo.com/2169336083/profile' rel='external' target='_blank'>Weibo</a>
<a class='facebook replaced' href='http://cloudfoundry.csdn.net' rel='external' target='_blank'>CSDN</a>
<a class='youtube replaced' href='http://i.youku.com/u/id_UNDI5MTA2Mjk2' rel='external' target='_blank'>YouKu</a>
</div>
<div class='prepend-2 span-5'>
<p>
<!-- %a{:href => "#{url(@config, :www_app)}/faq"} 问题 -->
<a href='http://cndocs.cloudfoundry.com/faq.html'>问题</a>
|
<a href='http://forum.csdn.net/slist/cloudfoundry' rel='external'>论坛</a>
|
<!-- %a{:href => url(@config, :blog_app), :rel => "external"} 博客 -->
<a href='http://cnblog.cloudfoundry.com/' rel='external'>博客</a>
|
<a href='http://www.cloudfoundry.com/jobs'>工作</a>
|
<a href='http://www.cloudfoundry.com/legal'>法律</a>
|
<a href='http://www.cloudfoundry.com/terms'>条款</a>
|
<a href='http://www.vmware.com/help/privacy.html' rel='external' target='_blank'>隐私</a>
</p>
</div>
<div class='span-5 last right'>
<p>Copyright &copy; 2013 VMware, Inc. All rights reserved.</p>
</div>
</div>
</div>
</div>
<script>
  //<![CDATA[
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-22181585-14']);
    _gaq.push(['_trackPageview']);
    
    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    /$(document).ready(function() {
     / $('#social-share').dcSocialShare({
      /  buttonSize: 'horizontal',
      / buttons: 'facebook,twitter,plusone,linkedin',
      /  location: 'top',
      /  align: 'right',
      /  offsetLocation: 260,
      /  offsetAlign: 100,
      /  width: 80,
      /  center: true,
      /  centerPx: 600,
      /  disableFloat: true,
      /  tabText: '',
      /  twitterId: 'cloudfoundry'
      /});
    /});
  //]]>
</script>
</body>
</html>
